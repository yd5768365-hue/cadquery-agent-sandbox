这是一个基于Cherry Studio构建的高度工程化的AI代理系统。它专门用于CadQuery参数化建模，通过MCP（Model Context Protocol）协议实现了代码编写、沙盒运行、文件覆盖的一体化流程，并具备严格的安全隔离机制。​🌟项目核心亮点​闭环自进化：AI不仅仅是写代码，它能够通过/bin/bash在本地容器中执行代码，读取报错，并自动修复。​沙盒隔离（沙盒）：所有代码运行均在Docker容器内进行，防止潜在的恶意代码对操作机系统造成损害。​权威知识扫描：通过注入CadQuery官方文档，极大地降低了LLM产生“幻觉”的概率，确保生成的API调用准确无误。​工程化提示词（系统提示）：内置了包含工程哲学、作业程序（SOP）以及权限反馈机制的顶级提示​🏗️架构架构系统​项目的运行逻辑如下：​用户输入：在Cherry Studio中提出建模需求。​逻辑思考：DeepSeek模型结合CadQuery 权威文档进行逻辑推理。​工具调用（MCP）：​read_file: 读取上下文。​write_file: 覆盖或新建建模脚本。​run_code: 在 Docker 容器内执行 Python 脚本。​bash_access: 必要的系统级环境准备（设定权限）。​反馈闭环：捕获容器输出的日志，AI 根据运行结果是提交作品还是进入下一个调用 Bug 修复决定。​🚀 开始快速​​替代要求​安装 Cherry Studio(这是一个开源项目) ​安装 Docker (用于运行沙盒环境) ​DeepSeek API Key 配置步骤 1、克隆仓库： #注意这里目前正在学习中 2、启动mcp服务 #后面会补 3、导入提示词:

📜 交付风格与工程哲学​本项目不仅是一个工具，更是一套建模准则。它追求：​选择性：生成的CAD代码必须易于后续修改。​确定性：所有的操作必须有明确的反馈反馈机制。​前期跟进诉求：严禁在未确认权限的情况下尝试越权操作。🫱🏾‍🫲🏾贡献和反馈首先我是一名大学生，但是就读学校是双非，资源不是很好，这个项目是我一个人搭建完成后才想发布的，但是可能不会git，更新速度可能比较慢，但是大家的建议我会考虑的

CadQuery Agent 沙箱
一个基于Cherry Studio构建的工程化AI代理系统，专注于CadQuery参数化建模。系统通过MCP（模型上下文协议）提供工具化接口，让智能体能够安全地读取/写入文件、运行代码并在受控的Docker沙盒中执行反馈循环，从而自动修复错误并重复生成可靠的CAD脚本。

🌟本项目的核心亮点

闭环自进化：AI能够在沙盒内运行代码（/bin/bash / Python），读取运行输出与报错，并根据自动修复模型脚本反馈。
沙盒隔离（安全优先）：所有代码执行都在Docker容器内，保护一下机器可能有危险代码影响。
权威知识扫描：预先注入CadQuery官方文档与示例，显着降低LLM产生“幻觉”的概率，保证API调用的准确性。
工程化提示与SOP：内置工程哲学与作业流程（SOP），使输出具有一致性、可复现性与可审计性。
面向修改与协作：生成的CAD代码遵循时尚和可维护的风格，后续辅助审查与团队协作。
系统架构（概览）
Cherry Studio的用户提出了建模需求与约束。
DeepSeek（或其他LLM）结合CadQuery文档进行推理与代码生成。
通过MCP（Model Context Protocol）调用工具：
read_file：读取仓库上下文、模型脚本与文档；
write_file：创建或覆盖建模脚本；
run_code：在 Docker 容器中执行 Python/CQ 脚本并收集日志；
bash_access：有限的系统级准备命令（受权限控制）。
反馈闭环：解析容器输出，若失败则触发自动修复流程，直到成功或达到上限。
简化流程图：
用户 → Cherry Studio → LLM(DeepSeek) → MCP Tools (read/write/run/bash) → Docker Sandbox → Logs → LLM（修复/交付）

为什么选择本项目
为 CadQuery 建模构建了独特的自动化工作流程，适合快速验证参数化并生成可重复使用的脚本。
面向教育与工程实践：适合作为课程示例、项目原型与公司内部自动化建模流程的基础设施。
安全与可审计：把自动化能力可控沙盒与日志放在一起，审查每一步的变更。
提高效率：将重复性的试错阶段交由自动化闭环处理，把精力转向更高层次的设计决策。
快速开始（建议步骤）
先决条件

安装 Cherry Studio（本项目在 Cherry Studio 中运行/集成）
安装Docker（用于沙盒执行）
获取DeepSeek API Key 或其他LLM Key（用于推理/生成）
配置与启动（示例）

克隆仓库
git克隆https://github.com/yd5768365-hue/cadquery-agent-sandbox.git
在仓库根目录创建配置文件（例如.env），填入 DeepSeek/LLM 的 API Key 和必要配置。
启动MCP服务（项目中包含服务脚本）
启动容器或本地服务（参见项目脚本或文档）
在Cherry Studio中导入/加载提示词（Prompts）与模型上下文。
提交第一个建模任务（示例）：
输入：“生成一个参数化的齿轮，模数=2，齿数=24，孔径=8mm，带布线孔”
系统会返回 CadQuery 脚本文件、渲染预览（如果可用）和运行日志。
（后续会补充更详细的启动脚本与示例步骤）

交付风格（约定）
每个模型都放置独立的脚本文件，清晰的参数、接口和注释。
可重复：脚本应能相同在依赖下结果（记录依赖版本）。
可审计：每次run_code的输出日志都会与生成代码一并归档，然后回溯与回顾。
权限优先：未经明确授权，代理不会执行越权操作或访问敏感资源。
作者与动机（关于我）
我是项目的作者，目前是一名大学一年级学生。我的学习路径有些特别：

大一上学期：学习互联网金融，接触了数据与系统思维；
大一下学期：转到机械设计及其自动化，开始系统地接触CAD、机械制造图与参数化建模。
在跨学科学习的过程中，我发现传统的建模与验证方式效率很低——尝试、修改、重新运行、再修复，循环这个既运行又容易出错。为了把更多的时间用在设计思考与创新上，我决定用自动化和智能体的来改进流程，诞生了CadQuery Agent Sandbox。这个项目是我把两门学科的想法结合起来的尝试：用编程和自动化来加速机械设计的迭代，降低重复工作量。

我仍在学习和成长中的建议，欢迎大家批评指正、提出或共同贡献代码——你的每一点帮助对我意义重大。

贡献指南
非常感谢您的关注与支持！欢迎贡献想法、问题或公关。
想要帮助的话：

点个Star，能极大提升项目被看到的概率⭐
提交问题：功能建议、Bug报告、使用体验
提交PR：文档改进、成果补充、容器配置优化
教学/示例：如果您有 CadQuery 的实际案例，欢迎作为贡献示例
联系方式：

在仓库打开问题
或者直接发 Pull Request
未来计划·路线图）
补全一键式本地运行脚本与 Docker Compose 配置
增加更多 CadQuery 建模示例与单元测试
支持更多 LLM 并提供本地化的模型设计示例
可视化Web界面（在Cherry Studio内更好的交互体验）
教学系列：把我的学习过程与例子整理成教程，帮助刚入门的同学快速上手
致谢与许可
感谢 CadQuery 社区、Cherry Studio 项目以及所有对我这个小项目给予建议的人。
当前仓库采用 MIT 许可（如需更改，请更新 LICENSE）。
